<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>6. Create farm size map &mdash; GEB 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="7. Get irrigation sources" href="7_get_irrigation_source.html" />
    <link rel="prev" title="5. Create land use map" href="5_create_land_use_map.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> GEB
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="preprocessing.html">Preprocessing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="1_create_mask_and_hydro_maps.html">1. Create mask and hydro maps</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_scale_cwatm.html">2. Scale CWatM input data</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_scrape_command_areas.html">3. Scrape command areas</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_create_lakes_and_reservoirs.html">4. Create land and reservoir map</a></li>
<li class="toctree-l2"><a class="reference internal" href="5_create_land_use_map.html">5. Create land use map</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6. Create farm size map</a></li>
<li class="toctree-l2"><a class="reference internal" href="7_get_irrigation_source.html">7. Get irrigation sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="8_create_farmers.html">8. Create farmers</a></li>
<li class="toctree-l2"><a class="reference internal" href="9_pick_farmer_crops.html">9. Pick farmer crops</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_preprocess_modflow.html">10. Preprocess MODFLOW data</a></li>
<li class="toctree-l2"><a class="reference internal" href="11_other_data.html">11. Other data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running.html">Running the model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HRUs.html">Farm-level HRUs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Agents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../agents/__init__.html">Agents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/farmers.html">Farmers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/ngo.html">NGO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../agents/government.html">Government</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../model.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cwatm_model.html">CWatM Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../report.html">Report</a></li>
<li class="toctree-l1"><a class="reference internal" href="../artists.html">Artists</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../authors_page.html">Authors</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GEB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="preprocessing.html">Preprocessing</a> &raquo;</li>
      <li><span class="section-number">6. </span>Create farm size map</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/preprocessing/6_get_farm_sizes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="create-farm-size-map">
<h1><span class="section-number">6. </span>Create farm size map<a class="headerlink" href="#create-farm-size-map" title="Permalink to this heading"></a></h1>
<p>This file <a class="reference internal" href="#"><span class="doc">Create farm size map</span></a> file automatically downloads farm sizes from the Indian agricultural census database. This is only needed when you will create farms yourself, rather than reading them from a high-resolution dataset. The farm sizes from the agricultural census are used to create a more statistically representative farm dataset.</p>
<span class="target" id="module-preprocessing.6_get_farm_sizes"></span><dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.configureDropdowns">
<span class="sig-name descname"><span class="pre">configureDropdowns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#configureDropdowns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.configureDropdowns" title="Permalink to this definition"></a></dt>
<dd><p>This form configures the dropdown options based on the indices specified in the arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>options</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>) – a list of tuples. The tuple MUST be of length 2. The first item of the tuple is the string ID of the
dropdown element. The second item is the index of the option to choose from that dropdown.
(for example: [(‘year’, 2), (‘state’, 1)] is a valid argument)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>l</strong> – list of the string values used for each dropdown option, in the same order as the parameter.
(for example: [‘2005’, ‘California’] would be a return value for the example input above)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.create_shapefile_and_clip_to_study_region">
<span class="sig-name descname"><span class="pre">create_shapefile_and_clip_to_study_region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask_fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#create_shapefile_and_clip_to_study_region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.create_shapefile_and_clip_to_study_region" title="Permalink to this definition"></a></dt>
<dd><p>Create shapefile of India districts, and complements with downloaded census data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mask_fp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Filepath of the study region shapefile.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>study_region_districts</strong> – GeoDataFrame wit all districts and downloaded census data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoDataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.download_census">
<span class="sig-name descname"><span class="pre">download_census</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">states</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rootDir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">district_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#download_census"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.download_census" title="Permalink to this definition"></a></dt>
<dd><p>Function to download files from agcensus website</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_year</strong> – index of the year dropdown</p></li>
<li><p><strong>rootDir</strong> – folder to download files to</p></li>
<li><p><strong>state_start</strong> – index of state dropdown to start from</p></li>
<li><p><strong>district_start</strong> – index of district dropdown to start from</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.export_farm_sizes">
<span class="sig-name descname"><span class="pre">export_farm_sizes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">farm_size_shapefile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#export_farm_sizes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.export_farm_sizes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.findIndexByText">
<span class="sig-name descname"><span class="pre">findIndexByText</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dropdownElement</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#findIndexByText"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.findIndexByText" title="Permalink to this definition"></a></dt>
<dd><p>Function to find the index of element in dropdown menu by the text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dropdownElement</strong> – Selenium dropdown element.</p></li>
<li><p><strong>ext</strong> – String to match with option.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>index</strong> – Index of the option in the specified dropdown, where the text matches the option’s text</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.get_districts">
<span class="sig-name descname"><span class="pre">get_districts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#get_districts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.get_districts" title="Permalink to this definition"></a></dt>
<dd><p>Reads all global admin 2 areas, and selects only those in India. Then sets all columns for size classes to -1 as a placeholder value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>districts</strong> – all districts in India with placeholder columns for sizes.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">GeoDataFrame</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.parse_census_file">
<span class="sig-name descname"><span class="pre">parse_census_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#parse_census_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.parse_census_file" title="Permalink to this definition"></a></dt>
<dd><p>Reads census file in csv-format from disk, and returns values. Also reads the state and district name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fp</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – csv-filepath.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>df</strong> – DataFrame with census data for given state and district.</p></li>
<li><p><strong>state</strong> – State of census data.</p></li>
<li><p><strong>district</strong> – District for census data.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="preprocessing.6_get_farm_sizes.submitForm">
<span class="sig-name descname"><span class="pre">submitForm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">driver</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">district</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downloadDir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/preprocessing/6_get_farm_sizes.html#submitForm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#preprocessing.6_get_farm_sizes.submitForm" title="Permalink to this definition"></a></dt>
<dd><p>This function clicks the “submit” button and downloads the excel spreadsheet from the resulting page.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>driver</strong> – the webdriver to download from</p></li>
<li><p><strong>counter</strong> – the index of the current unique dropdown configuration</p></li>
<li><p><strong>downloadDir</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – download directory of the current webdriver</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="5_create_land_use_map.html" class="btn btn-neutral float-left" title="5. Create land use map" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="7_get_irrigation_source.html" class="btn btn-neutral float-right" title="7. Get irrigation sources" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; <a href="../copyright.html">Copyright</a> 2022, IIASA and VU-IVM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>